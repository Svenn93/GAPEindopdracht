!function(a,b){b["true"]=a;var c=function(){function a(){p=[],q=[],s=[],x=[],y=[],y[0]=[],y[1]=[],y[2]=[],A=0,z=[],stage=new createjs.Stage("cnvs"),w=new i(1200,800),t=stage.canvas.width,u=stage.canvas.height,w.boundH=-(w.height-u),w.boundW=-(w.width-t),k(),n(),r=new h(50,w.height-200,20,20),r.gravity=w.gravity,r.friction=w.friction,w.addChild(r.shape),v=createjs.Ticker,v.setFPS("60"),v.addEventListener("tick",b),window.onkeydown=c,window.onkeyup=j,stage.addChild(w.container)}function b(){s[37]&&r.velX>-r.speed&&r.velX--,s[38]&&r.grounded&&!r.jumping&&(r.grounded=!1,r.jumping=!0,r.velY=2*-r.speed),s[39]&&r.velX<r.speed&&r.velX++,r.grounded=!1;for(var a=0;a<p.length;a++)switch(e.checkCollision(r,p[a])){case"l":r.velX=0;break;case"r":r.velX=0;break;case"t":r.velY*=-1;break;case"b":r.grounded=!0,r.jumping=!1}for(var b=0;b<x.length;b++)switch(e.checkCollision(r,x[b])){case"l":r.velX=0,r.x=50,r.y=w.height-200;break;case"r":r.velX=0,r.x=50,r.y=w.height-200;break;case"t":r.velY*=-1,r.x=50,r.y=w.height-200;break;case"b":r.grounded=!0,r.jumping=!1,r.x=50,r.y=w.height-200}r.update(),stage.update()}function c(a){if(s[a.keyCode]=!0,90===a.keyCode){for(var b=0;b<y[1].length;b++)y[1][b].setVisibility(!0);for(var c=0;b<y[0].length;c++)y[0][c].alpha=0;A++}if(65===a.keyCode){for(var d=0;d<y[1].length;d++)y[1][d].setVisibility(!1);for(var e=0;e<y[0].length;e++)y[0][e].alpha=1;A++}}function j(a){s[a.keyCode]=!1}function k(){p.push(new d(0,w.height-1,w.width,1)),p.push(new d(0,0,w.width,1)),p.push(new d(0,0,1,w.height)),p.push(new d(w.width-1,0,1,w.height))}function l(){for(var a=D.tilesets[0].tilewidth,b=D.tilesets[0].tileheight,c={images:[C],frames:{width:a,height:b}},d=new createjs.SpriteSheet(c),e=0;e<D.layers.length;e++){var f=D.layers[e];"tilelayer"===f.type&&m(f,d,D.tilewidth,D.tileheight)}}function m(a,b,c){for(var d=0;d<a.height;d++)for(var e=0;e<a.width;e++){var f=new createjs.Sprite(b),h=e+d*a.width;if(f.gotoAndStop(a.data[h]-1),f.x=e*c,f.y=d*c,console.log(f),w.addChild(f),y[0].push(f),0!==a.data[h])switch(a.name){case"World":var i=new g(f.x,f.y,50,50);p.push(i);break;case"Death":var j=new g(f.x,f.y,50,50);x.push(j)}}}function n(){D=B,C=new Image,C.src=D.tilesets[0].image,C.onLoad=l();var a=new f(850,w.height-150,100,15,"#E3D3C6",300,850,"l",5e3);stage.addChild(a.shape),p.push(a),y[1].push(a);for(var b=0;b<x.length;b++)x[b].setVisibility(!1);o()}function o(){console.log("init cameras"),z[0]=!0,z[1]=!1,console.log(y);for(var a=0;a<y[1].length;a++)y[1][a].setVisibility(!1)}var p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;return B={height:16,layers:[{data:[28,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,28,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,11,0,0,28,28,28,0,28,28,28,0,28,28,28,0,28,28,28,0,28,28,0,0,12,11,0,0,0,28,0,0,28,0,0,0,28,0,0,0,0,28,0,0,28,28,0,0,12,11,0,0,0,28,0,0,28,28,28,0,28,28,28,0,0,28,0,0,28,28,0,0,12,11,0,0,0,28,0,0,28,0,0,0,0,0,28,0,0,28,0,0,0,0,0,0,12,11,0,0,0,28,0,0,28,28,28,0,28,28,28,0,0,28,0,0,28,28,0,0,12,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,28,21,23,21,24,22,0,0,0,0,0,0,0,0,0,0,0,0,0,21,21,23,21,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],height:16,name:"World",opacity:1,type:"tilelayer",visible:!0,width:24,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,26,26,26,26,26,26,26,26,26,26,26,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:16,name:"Death",opacity:1,type:"tilelayer",visible:!0,width:24,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:50,tilesets:[{firstgid:1,image:"../maps/tilemap.png",imageheight:150,imagewidth:500,margin:0,name:"tilemapTest",properties:{},spacing:0,tileheight:50,tilewidth:50}],tilewidth:50,version:1,width:24},a}(),d=function(){function a(a,b,c,d){this.x=a,this.y=b,this.width=c,this.height=d}return a}(),e=function(){function a(){}return a.checkCollision=function(a,b){var c=a.x+a.width/2-(b.x+b.width/2),d=a.y+a.height/2-(b.y+b.height/2),e=a.width/2+b.width/2,f=a.height/2+b.height/2,g="";if(Math.abs(c)<e&&Math.abs(d)<f){var h=e-Math.abs(c),i=f-Math.abs(d);return h>=i?d>0?(g="t",a.y+=i):(g="b",a.y-=i):c>0?(g="l",a.x+=h):(g="r",a.x-=h),g}},a}(),f=function(){function a(a,b,c,d,e,f,g,h,i){this.x=a,this.y=b,this.color=e,this.width=c,this.height=d,this.speed=i,this.orientation=h,this.leftBound=f,this.rightBound=g,this.shape=new createjs.Shape,this.shape.x=this.x,this.shape.y=this.y;var j=this;j.draw()}return a.prototype.draw=function(){this.shape.graphics.c(),this.shape.graphics.f(this.color),this.shape.graphics.dr(0,0,this.width,this.height),this.shape.graphics.ef(),this.move()},a.prototype.move=function(){"l"===this.orientation?(createjs.Tween.get(this).to({x:this.leftBound},this.speed).call(this.changeOrientation),createjs.Tween.get(this.shape).to({x:this.leftBound},this.speed),console.log(this.x)):(createjs.Tween.get(this).to({x:this.rightBound},this.speed).call(this.changeOrientation),createjs.Tween.get(this.shape).to({x:this.rightBound},this.speed))},a.prototype.changeOrientation=function(){this.orientation="l"===this.orientation?"r":"l",this.move()},a.prototype.setVisibility=function(a){this.shape.visible=a},a}(),g=(function(){function a(a,b,c,d,e,f,g,h,i){this.x=a,this.y=b,this.color=e,this.width=c,this.height=d,this.speed=i,this.orientation=h,this.downBound=f,this.upBound=g,this.shape=new createjs.Shape,this.shape.x=this.x,this.shape.y=this.y;var j=this;j.draw()}return a.prototype.draw=function(){this.shape.graphics.c(),this.shape.graphics.f(this.color),this.shape.graphics.dr(0,0,this.width,this.height),this.shape.graphics.ef(),this.move()},a.prototype.move=function(){"u"===this.orientation?(createjs.Tween.get(this).to({y:this.upBound},this.speed).call(this.changeOrientation),createjs.Tween.get(this.shape).to({y:this.upBound},this.speed),console.log(this.y)):(createjs.Tween.get(this).to({y:this.downBound},this.speed).call(this.changeOrientation),createjs.Tween.get(this.shape).to({y:this.downBound},this.speed))},a.prototype.changeOrientation=function(){this.orientation="u"===this.orientation?"d":"u",this.move()},a.prototype.setVisibility=function(a){this.shape.visible=a},a}(),function(){function a(a,b,c,d,e){this.x=a,this.y=b,this.color=e,this.width=c,this.height=d,this.shape=new createjs.Shape,this.shape.x=this.x,this.shape.y=this.y,this.draw()}return a.prototype.draw=function(){this.shape.graphics.c(),this.shape.graphics.dr(0,0,this.width,this.height),this.shape.graphics.ef()},a.prototype.setVisibility=function(a){this.shape.visible=a},a}()),h=function(){function a(a,b,c,d){this.x=a,this.y=b,this.velX=0,this.velY=0,this.speed=3,this.friction=.8,this.gravity=.3,this.grounded=!1,this.jumping=!1,this.width=c,this.height=d,this.shape=new createjs.Shape,this.shape.x=this.x,this.shape.y=this.y;var e=this;e.draw()}return a.prototype.draw=function(){this.shape.graphics.f("#79CDCD	"),this.shape.graphics.dr(0,0,this.width,this.height),this.shape.graphics.ef()},a.prototype.update=function(){this.grounded&&(this.velY=0),this.y+=this.velY,this.x+=this.velX,this.shape.x=this.x,this.shape.y=this.y,this.velX*=this.friction,this.velY+=this.gravity},a}(),i=(function(){function a(a,b,c,d){this.x=a,this.y=b,this.color=d,this.radius=c,this.shape=new createjs.Shape,this.shape.x=this.x,this.shape.y=this.y,this.draw()}return a.prototype.draw=function(){this.shape.graphics.c(),this.shape.graphics.f(this.color),this.shape.graphics.dc(this.x+this.radius/2,this.y+this.radius/2,this.radius),this.shape.graphics.ef()},a.prototype.setVisibility=function(a){this.shape.visible=a},a}(),function(){function a(a,b){this.friction=.8,this.gravity=.3,this.width=a,this.height=b,this.container=new createjs.Container}return a.prototype.addChild=function(a){this.container.addChild(a)},a}());!function(){function a(){d(),setInterval(function(){b()},1e3)}function b(){9>g?($("#guy").attr("src","images/guyNormal.png"),g+=1):9===g&&($("#guy").attr("src","images/guyDrink.png"),g=0)}function d(){$("#previous").click(function(){switch($(this).next().html()){case f[0]:$(this).next().html(f[2]);break;case f[1]:$(this).next().html(f[0]);break;case f[2]:$(this).next().html(f[1])}}),$("#next").click(function(){switch($(this).prev().html()){case f[0]:$(this).prev().html(f[1]);break;case f[1]:$(this).prev().html(f[2]);break;case f[2]:$(this).prev().html(f[0])}}),$("li").click(function(){switch($(this).html()){case f[0]:console.log("play game"),$("#menu").remove(),$("canvas").css("display","block"),e();break;case f[1]:console.log("select level");break;case f[2]:console.log("leaderbord")}})}function e(){new c}var f=["PLAY","LEVELS","SCORES"],g=0;a()}()}({},function(){return this}());